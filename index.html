<script>
const CV_DATA = {
  lastUpdated: "DEC-2025",

  personalInfo: {
    name: "Ehab Alkhateeb",
    title: "PhD | Postdoctoral Fellow",
    subtitle: "Cybersecurity Researcher",
    location: "Fredericton, NB, Canada",
    email: "ehabalkh@gmail.com"
  },

  summary:
    "Cybersecurity researcher and Postdoctoral Fellow at the University of New Brunswick (Canadian Institute for Cybersecurity). " +
    "Expertise in AI and deep learning driven malware analysis, packing detection, behavioral analytics, and vulnerability management. " +
    "PhD in Computer Science with over 8 years of academic and industry collaboration experience including Public Safety Canada, " +
    "Rogers, Scotiabank, and Huawei, translating research into deployable security solutions.",

  experience: [
    {
      period: "2024 - Present",
      role: "Postdoctoral Fellow",
      org: "University of New Brunswick - Canadian Institute for Cybersecurity",
      details: [
        "AI and ML driven endpoint security for malware packing detection.",
        "Static and dynamic malware analysis and APT hunting.",
        "CAPE sandbox with CAPA integration and MITRE mapping.",
        "Vulnerability management and threat intelligence platforms."
      ]
    }
  ],

  education: [
    {
      period: "2020 - 2024",
      degree: "PhD in Computer Science",
      org: "University of New Brunswick",
      details: "Thesis: Unmasking Stealthy Threats"
    }
  ],

  skills: {
    Security: ["Malware Analysis", "Threat Hunting", "APT Analysis"],
    "AI / ML": ["Deep Learning", "CNNs", "Isolation Forest"],
    Systems: ["C/C++", "Python", "CAPE Sandbox"],
    Data: ["Elasticsearch", "Power BI", "OSINT"]
  }
};

/* ---------- HELPERS ---------- */

function section(title, body) {
  return (
    '<section class="card p-8 mb-6">' +
    '<h2 class="text-xl font-semibold mb-4">' + title + '</h2>' +
    body +
    '</section>'
  );
}

function renderHeader() {
  return (
    '<section class="card p-8 mb-6">' +
    '<h1 class="text-3xl font-bold">' + CV_DATA.personalInfo.name + '</h1>' +
    '<p class="text-lg text-gray-600">' +
    CV_DATA.personalInfo.subtitle + " | " + CV_DATA.personalInfo.title +
    '</p>' +
    '<p class="mt-2 text-sm text-gray-600">' +
    CV_DATA.personalInfo.location + " · " + CV_DATA.personalInfo.email +
    '</p>' +
    '</section>'
  );
}

function renderSummary() {
  return section("Summary", "<p>" + CV_DATA.summary + "</p>");
}

function renderExperience() {
  let html = "";
  CV_DATA.experience.forEach(function(e) {
    html +=
      "<div class='mb-4'>" +
      "<strong>" + e.role + "</strong><br>" +
      "<span class='text-sm text-gray-600'>" + e.org + " · " + e.period + "</span>" +
      "<ul class='list-disc ml-5 mt-2'>" +
      e.details.map(d => "<li>" + d + "</li>").join("") +
      "</ul></div>";
  });
  return section("Experience", html);
}

function renderEducation() {
  let html = "";
  CV_DATA.education.forEach(function(e) {
    html +=
      "<div class='mb-3'>" +
      "<strong>" + e.degree + "</strong><br>" +
      "<span class='text-sm text-gray-600'>" + e.org + " · " + e.period + "</span>" +
      "<p>" + e.details + "</p></div>";
  });
  return section("Education", html);
}

function renderSkills() {
  let html = "";
  for (let k in CV_DATA.skills) {
    html += "<p><strong>" + k + ":</strong> " + CV_DATA.skills[k].join(", ") + "</p>";
  }
  return section("Technical Skills", html);
}

/* ---------- MAIN ---------- */

function renderApp() {
  document.getElementById("app").innerHTML =
    "<main class='max-w-4xl mx-auto px-4 py-10'>" +
    renderHeader() +
    renderSummary() +
    renderExperience() +
    renderEducation() +
    renderSkills() +
    "</main>" +
    "<footer class='text-center text-sm text-gray-500 py-6 border-t'>" +
    "© " + new Date().getFullYear() + " Ehab Alkhateeb" +
    "</footer>";
}

window.onload = renderApp;
</script>
